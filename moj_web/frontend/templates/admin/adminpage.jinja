{% extends "_main.jinja" %}

{% block title %} Admin page {% endblock %}

{% block main %}
<div class="container-fluid adminpage" >
    <div class="row">
        <div class="settings col col-9 col-md-6">
            <h2 class="settings_header"> Settings </h2>
            <div class="settings_functions">
                <p><a href={{ url_for("admin.view_change_password") }}>Change password</a></p>
                <p><a href=#>Other function</a></p>
                <p><a href=#>Other other function</a></p>
                <hr/>
            </div>
            <div class="row">
                <h2 class="quotes_settings"> Quotes</h2>
                <a href={{ url_for("admin.view_add_quote") }} role="button" class="btn btn-primary add_new_quote">Add new quote</a>
            </div>
            {# CREATE TABLE #}
            <table class="table table-hover table-bordered quotes_table">
                <thead>
                    <tr>
                        <th class="text-center" scope="col">Id</th>
                        <th scope="col">Author</th>
                        <th class="text-center" scope="col">Remove</th>
                    </tr>
                </thead>
                <tbody>
                {# TABLE LOOP #}
                {% for quote in quotes %}
                    <tr>
                        <th class="text-center"> {{ quote.id }}</td>
                        <td> <a href={{ url_for("admin.view_quote_editor", quote_id = quote.id) }}> {{ quote.author }} </a> </td>
                        <td class="text-center"> <a href={{ url_for("admin.remove_quote", quote_id = quote.id) }} role="button" class="btn btn-danger" method="delete">Remove</a> </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>


            {# PAGINATION #}
            <ul class="pagination pagination_admin justify-content-center mt-3">

            {# add previous button #}
            {% if paginate.has_prev %}
                <li class="page-item">
                    <a class="page-link" href={{url_for("admin.view_adminpage", page=paginate.prev_num)}} >Previous</a>
                </li>
            {% endif %}


            {# ADD NUMBERED LINKS #}
            {%- for page in paginate.iter_pages() %}
                {% if page %}
                    {% if page != paginate.page %}
                        <li class="page-item"> <a class="page-link" href={{ url_for("admin.view_adminpage", page=page) }}>{{page}}</a></li>
                    {% else %}
                        <li class="page-item disabled"><a class="page-link">{{ page }}</a></li>
                    {% endif %}
                {% else %}
                    <li class="page-item"><span class="ellipsis"> ...</span></li>
                {% endif %}
            {%- endfor %}

            {# add next button #}
            {% if paginate.has_next %}
                <li class="page-item">
                    <a class="page-link" href={{url_for("admin.view_adminpage", page=paginate.next_num)}} >Next</a>
                </li>
            {% endif %}
            </ul>
            </div>
        <img class="settings_img col-3 col-md-6" src="{{ url_for("static", filename="images/settingslogo.png") }}" >
    </div>
</div>
    {% endblock %}
